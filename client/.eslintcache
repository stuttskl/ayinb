[{"/Users/katie/code/ayinb/client/src/index.js":"1","/Users/katie/code/ayinb/client/src/App.js":"2","/Users/katie/code/ayinb/client/src/Components/SideNav.js":"3","/Users/katie/code/ayinb/client/src/Pages/ReadingList.js":"4","/Users/katie/code/ayinb/client/src/Pages/Home.js":"5","/Users/katie/code/ayinb/client/src/Pages/Search.js":"6","/Users/katie/code/ayinb/client/src/Pages/AllBooks.js":"7","/Users/katie/code/ayinb/client/src/Components/CurrentBook.js":"8","/Users/katie/code/ayinb/client/src/Components/BookCard.js":"9","/Users/katie/code/ayinb/client/src/Components/BookItem.js":"10","/Users/katie/code/ayinb/client/src/Components/AddForm.js":"11","/Users/katie/code/ayinb/client/src/Components/SearchForm.js":"12","/Users/katie/code/ayinb/client/src/Pages/AddBook.js":"13"},{"size":219,"mtime":1607906136698,"results":"14","hashOfConfig":"15"},{"size":240,"mtime":1607907227606,"results":"16","hashOfConfig":"15"},{"size":7149,"mtime":1608786114881,"results":"17","hashOfConfig":"15"},{"size":2163,"mtime":1609096418185,"results":"18","hashOfConfig":"15"},{"size":1294,"mtime":1609377844041,"results":"19","hashOfConfig":"15"},{"size":406,"mtime":1608001579204,"results":"20","hashOfConfig":"15"},{"size":2172,"mtime":1609291333999,"results":"21","hashOfConfig":"15"},{"size":3031,"mtime":1609377793834,"results":"22","hashOfConfig":"15"},{"size":1647,"mtime":1609291349430,"results":"23","hashOfConfig":"15"},{"size":2468,"mtime":1608779282742,"results":"24","hashOfConfig":"15"},{"size":2844,"mtime":1608778866992,"results":"25","hashOfConfig":"15"},{"size":3466,"mtime":1609291489366,"results":"26","hashOfConfig":"15"},{"size":487,"mtime":1609096389217,"results":"27","hashOfConfig":"15"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},"1810nbv",{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"43","usedDeprecatedRules":"30"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},"/Users/katie/code/ayinb/client/src/index.js",[],["56","57"],"/Users/katie/code/ayinb/client/src/App.js",[],"/Users/katie/code/ayinb/client/src/Components/SideNav.js",[],"/Users/katie/code/ayinb/client/src/Pages/ReadingList.js",[],"/Users/katie/code/ayinb/client/src/Pages/Home.js",[],"/Users/katie/code/ayinb/client/src/Pages/Search.js",[],"/Users/katie/code/ayinb/client/src/Pages/AllBooks.js",["58","59","60","61","62","63"],"import React, { useState, useEffect } from 'react';\nimport './AllBooks.css';\nimport BookCard from '../Components/BookCard';\n\nfunction AllBooks(props) {\n  const [books, setBooks] = useState([]);  \n  const [error, setError] = useState(null);\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [rating, setRating] = useState();\n\n  let baseURL = \"https://ayib-api.herokuapp.com/api/books/\";\n  let localURL = \"http://localhost:8080/api/books/\";\n\n  useEffect(() => {\n    fetch(localURL)\n      .then(res => res.json())\n      .then(\n        (result) => {\n          setIsLoaded(true);\n          setBooks(result);\n      },\n      (error) => {\n        setIsLoaded(true);\n        setError(error);\n      }\n    )\n  }, [])\n\n  function deleteBook(id) {\n    fetch(localURL + `${id}`, \n    {\n      method: 'delete'\n    });\n    const newbooks = books.filter(book => book._id !== id);\n    setBooks([...newbooks])\n  }\n\n  function updateRating(e) {\n    var newRating = e.target.value; \n    var bookIdToUpdate = e.target.parentElement.id\n    console.log(e.target.parentElement.id)\n    fetch(localURL + `${bookIdToUpdate}`,\n    {\n      method: 'put',\n      headers: new Headers({\n       'Content-Type': 'application/json',\n      }),\n     body: JSON.stringify( {rating: newRating} )\n    });\n    const newbooks = books.map(book =>\n      (book._id === bookIdToUpdate) // if the id of the book matches the id of the book to update\n      ? {...book, rating: newRating} // using spread operator, set rating to new rating\n      : book // or just use all object data and vals\n      )\n    setBooks([...newbooks]) // lastly update and set new state\n  }\n\n  return (Â \n    <>\n      <h2>Your 2020 Shelf</h2>\n      <div className=\"bookList\">\n        {books.map((book, id) => (\n          <>\n            <BookCard \n              key={book._id}\n              id={book._id}\n              title={book.title}\n              img={book.img}\n              author={book.author}\n              rating={book.rating}\n              onDelete={deleteBook.bind(this, book._id)}\n              onUpdate={updateRating.bind(this)}\n            />\n          </>\n        ))}\n      </div>\n    </>\n  );\n}\n\nexport default AllBooks;\n","/Users/katie/code/ayinb/client/src/Components/CurrentBook.js",["64"],"/Users/katie/code/ayinb/client/src/Components/BookCard.js",[],"/Users/katie/code/ayinb/client/src/Components/BookItem.js",[],"/Users/katie/code/ayinb/client/src/Components/AddForm.js",[],"/Users/katie/code/ayinb/client/src/Components/SearchForm.js",[],"/Users/katie/code/ayinb/client/src/Pages/AddBook.js",[],{"ruleId":"65","replacedBy":"66"},{"ruleId":"67","replacedBy":"68"},{"ruleId":"69","severity":1,"message":"70","line":7,"column":10,"nodeType":"71","messageId":"72","endLine":7,"endColumn":15},{"ruleId":"69","severity":1,"message":"73","line":8,"column":10,"nodeType":"71","messageId":"72","endLine":8,"endColumn":18},{"ruleId":"69","severity":1,"message":"74","line":9,"column":10,"nodeType":"71","messageId":"72","endLine":9,"endColumn":16},{"ruleId":"69","severity":1,"message":"75","line":9,"column":18,"nodeType":"71","messageId":"72","endLine":9,"endColumn":27},{"ruleId":"69","severity":1,"message":"76","line":11,"column":7,"nodeType":"71","messageId":"72","endLine":11,"endColumn":14},{"ruleId":"77","severity":1,"message":"78","line":27,"column":6,"nodeType":"79","endLine":27,"endColumn":8,"suggestions":"80"},{"ruleId":"69","severity":1,"message":"81","line":1,"column":17,"nodeType":"71","messageId":"72","endLine":1,"endColumn":25},"no-native-reassign",["82"],"no-negated-in-lhs",["83"],"no-unused-vars","'error' is assigned a value but never used.","Identifier","unusedVar","'isLoaded' is assigned a value but never used.","'rating' is assigned a value but never used.","'setRating' is assigned a value but never used.","'baseURL' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'localURL'. Either include it or remove the dependency array.","ArrayExpression",["84"],"'useState' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"85","fix":"86"},"Update the dependencies array to be: [localURL]",{"range":"87","text":"88"},[711,713],"[localURL]"]